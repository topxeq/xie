
// 设置错误处理代码块为标号handler1处开始的代码块
// onError指令后如果不带参数，表示清空错误处理代码块
onError :handler1

// 故意计算1除以0的结果，将产生运行时异常
div #i1 #i0

// 此处代码正常情况应执行不到
// 但错误处理代码块将演示如何返回此处继续执行
:next1

// 输出一个提示信息
pln 计算完毕(错误处理完毕)

// 退出程序
exit

// 错误处理代码块
:handler1
    // 发生异常时，谢语言将会依次入栈出错时详细代码运行栈信息、错误提示信息和出错代码的行号
    // 错误处理代码块应该将这几个值弹栈后处理（或丢弃），注意顺序
    pop $lastLine
    pop $errMsg
    pop $detailG

    // 输出错误信息
    pl "代码运行到第%v行时发现错误：%v，详细信息：%v" $lastLine $errMsg $detailG

    // 跳转到指定代码位置继续执行
    goto :next1





